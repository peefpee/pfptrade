<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>PFPTrade - Trading</title>
  <link rel="stylesheet" href="/static/css/output.css">
  <script src="https://unpkg.com/lightweight-charts@4.1.0/dist/lightweight-charts.standalone.production.js"></script>
</head>
<body class="bg-base-200 min-h-screen flex flex-col">
    <!-- Navbar -->
    <div class="navbar bg-base-100 shadow">
        <div class="navbar-start">
            <a href="/" class="btn btn-ghost normal-case text-xl">PFPTrade</a>
        </div>
        <div class="navbar-end">
            <a href="/logout" class="btn btn-error">Logout</a>
        </div>
    </div>

    <!-- Chart Container -->
    <div class="container mx-auto p-6">
        <h1 class="text-2xl font-bold mb-4">Live Trading Chart - {{ symbol }}</h1>
        <div id="chart" style="width: 100%; height: 500px;" class="w-full bg-base-100 rounded-lg shadow"></div>
    </div>

    <!-- Pass variables to JS -->
    <script>
        const priceApiUrl = "{{ priceapiurl }}/api/ws/ticks/{{symbol}}";
        const historyUrl = "{{ priceapiurl }}/api/history/{{symbol}}/{{timeframe}}";
        const symbol = "{{ symbol }}";
        const timeframe = "{{ timeframe }}";
    </script>
    <script src="/static/js/trade.js"></script>
</body>
</html>
